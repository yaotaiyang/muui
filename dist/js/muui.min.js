/*!
muui样式库:https://github.com/yaotaiyang/muui
*/
!function(){window.muui=window.muui||{},muui.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})};var e={Webkit:"webkit",Moz:"",O:"o"},t="",n=document.createElement("div");$.each(e,function(e,i){void 0!==n.style[e+"TransitionProperty"]&&(t=i)}),$.support={transition:{end:t+"TransitionEnd"}}}($),muui.actionsheet=function(e){var t=$.extend({list:[{id:"btn-1",text:"测试按钮1"},{id:"btn-1",text:"测试按钮2"}]},e),n=template.compile('<ul class="muui-actionsheet-ul">                    {{each list as item key}}                    <li data-ac="click-active" {{each item as val kkey}}data-{{kkey}}="{{val}}"{{/each}} class="btn muui-border muui-ui-li">{{item.text}}</li>                    {{/each}}                    </ul>                    <ul class="muui-actionsheet-ul">                        <li data-dismiss="modal" data-ac="click-active" class="btn btn-li border-1px">取消</li>                    </ul>'),i=$(n(t));return muui.pickermodal(i)},$(function(){function e(){for(var e=0;e<t.length;e++)clearTimeout(t[e]);t=[]}var t=[],n=[];$("body").delegate("*[data-ac]","touchstart",function(e){var i=$(this),a=i.data("ac");t.push(setTimeout(function(){i.addClass(a),n.push(i),i.trigger("click-active")},80)),setTimeout(function(){i.removeClass(a)},300)}),$("body").on("touchmove touchend",function(){e(),setTimeout(function(){for(var e=0;e<n.length;e++)n[e].removeClass(n[e].data("ac"));n=[]},300)}),$("body").delegate("*[data-ac]","tap",function(e){var t=$(this),n=t.data("ac");t.addClass(n),t.trigger("click-active"),setTimeout(function(){t.removeClass(n)},300)})}),muui.alert=function(e){return"string"==typeof e&&(e={content:e}),e=$.extend({btns:[{text:"确定",type:"default",close:"1"}]},e),muui.dialog(e)},muui.confirm=function(e){return"string"==typeof e&&(e={content:e}),e=$.extend({title:"确定"},e),muui.dialog(e)},muui.dialog=function(e){var t=$.extend({container:"body",width:"80%",title:"提醒",content:"是否确认该操作",btns:[{text:"取消",type:"default",close:"1"},{text:"确定",type:"primary"}],backdrop:"static",history:!0},e),n=template.compile('<div class="modal muui-dialog muui-fixed-center fade" style="width:{{width}}">        <div class="modal-header">            <h3>{{title}}</h3>        </div>            <div class="modal-body">                <p>{{content}}</p>            </div>        <div class="modal-footer">        {{each btns as btn key}}            <div {{each btn as val kkey}}data-{{kkey}}="{{val}}"{{/each}} class="btn muui-border" data-ac="click-active" {{if btn.close}}data-dismiss="modal"{{/if}}>{{btn.text}}</div>        {{/each}}        </div>    </div>'),i=$(n(t));return i.mmodal(t),i},function(e){function t(e){var t=e.indexOf("#");if(t==-1)return{};var n=e.substr(t+1,e.length).split("|").filter(function(e,t){if(e)return e}),i={};return n.forEach(function(e,t){var n=e.split("=");i[n[0]]=n[1]||null}),i}function n(e,t,n){var i="";for(var a in e)i&&(i+="|"),i+=a+"="+e[a];if(t)return t.indexOf("#")!=-1&&(t=t.substr(0,t.indexOf("#"))),i?{url:t+"#"+i,dels:n}:{url:t,dels:n};location.hash=i}var i={};muui.hash={hasHash:function(e,n){if(i=t(n||location.href),"string"==typeof e&&i[e])return!0;if(e instanceof RegExp){var a=!1;for(var o in i)if(o.match(e)&&o.match(e)[0]==o){a=!0;break}return a}return!1},getHash:function(e){return i=t(location.href),i[e]},setHash:function(e,a,o){var r=null;r=o?t(o):i=t(location.href),r[e]=void 0==a?"":a,n(r,o)},removeHash:function(e,a){var o=null,r=[];if(o=a?t(a):i=t(location.href),"string"==typeof e)delete o[e];else if(e instanceof RegExp)for(var s in o)s.match(e)&&s.match(e)[0]==s&&(r.push({name:s,value:o[s]}),delete o[s]);return n(o,a,r)},clearHash:function(e){if(e)return e.indexOf("#")==-1?e:e.substr(0,e.indexOf("#"));location.hash="",i={}},getHashObj:function(e){return t(e||location.href)}}}($),muui.loading=function(e){"string"==typeof e&&(e={text:e});var t=$.extend({container:"body",width:"auto",text:"加载中…",backdrop:"static",time:"",history:!1},e),n=template.compile('<div class="modal muui-fixed-center muui-loading" style="width:{{width}}">            <div class="modal-body align-center">                <i class="muui-loading-icon"></i>                <p>{{text}}</p>            </div>    </div>'),i=$(n(t));return i.mmodal(t),i.data("modal").$backdrop.css({"background-color":"transparent"}),t.time&&setTimeout(function(){i.modal("hide")},t.time),i},$(window).on("pageshow",function(e){if(window.performance&&window.performance.navigation&&1==window.performance.navigation.type&&muui.hash.hasHash(/muuimodal.+/)){var t=muui.hash.removeHash(/muuimodal.+/,location.href);t.dels&&t.dels.length&&history.go(-t.dels.length)}}),$.fn.destory=function(){$(this).modal("hide")},$.fn.mmodal=function(e){var t=$(this),n=muui.guid(),i="muuimodal-"+n,a=$.extend({history:!0,container:"body"},e);$(a.container).append(t),t.data("guid",n),a.history&&muui.hash.setHash(i,1),t.modal(a);var o=t.data("modal").$backdrop;return o&&o.on("touchmove",function(e){e.preventDefault(),e.stopPropagation()}),$(window).on("hashchange",function(e){if(a.history){var n=e.newURL,o=e.oldURL;n&&o&&1==muui.hash.getHashObj(o)[i]&&void 0==muui.hash.getHashObj(n)[i]?t.data("hide-type","navigate-back").modal("hide"):t.data("hide-type","normal")}}),t.on("hidden",function(){"navigate-back"==t.data("hide-type")?muui.hash.removeHash(i):a.history&&history.back(),t.remove()}),t.$body=t.find(".modal-body"),t.$header=t.find(".modal-header"),t.$footer=t.find(".modal-footer"),t},function(e){var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault();t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var i=e(this),a=i.data("modal"),o=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);a||i.data("modal",a=new t(this,o)),"string"==typeof n?a[n]():o.show&&a.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),a=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=a.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},a.data(),n.data());t.preventDefault(),a.modal(o).one("hide",function(){n.focus()})})}($),muui.pickermodal=function(e){("string"==typeof e||$.zepto.isZ(e))&&(e={html:e});var t=$.extend({container:"body",html:"<div>传递参数:{html:'这里是要插入的内融通'}</div>",history:!0},e),n=template.compile('<div class="modal muui-picker fade">        <div class="modal-dialog">            <div class="modal-content">                <div class="modal-body"></div>            </div>        </div>    </div>'),i=$("<div class='picker-wrap'></div>"),a=$(n(t));return i.append(t.html),a.find(".modal-body").html(i),a.mmodal(t),a.find(".modal-dialog").scroll(),a},muui.pickerpage=function(e){("string"==typeof e||$.zepto.isZ(e))&&(e={html:e});var t=$.extend({container:"body",backdrop:!1,html:"pickerPage 内容",history:!0},e),n=template.compile('<div class="modal muui-pickerpage fade">        <div class="modal-dialog">            <div class="modal-content">                <div class="modal-body"></div>            </div>        </div>    </div>'),i=$("<div class='pickerpage-wrap'></div>");return $html=$(n(t)),i.append(t.html),$html.find(".modal-body").html(i),$html.mmodal(t),$html.find(".modal-dialog").scroll(),$html},$.fn.refreshList=function(e){function t(e){m=e.touches[0].pageY,p=g=b=y=v=0,f.scrollTop()<=2?(v=1,d.css("visibility","visible")):d.css("visibility","hidden"),o(0)}function n(t){var n=t.touches[0].pageY;if(v&&n>m){if(p=(n-m)/2.5,t.preventDefault(),n>b&&(b=n),p>=e.topHeight)n>b?p=e.topHeight:(y=1,p=e.topHeight+n-b);else if(1==y)return m=m+e.topHeight-b,void(y=0);p>=e.topHeight-1&&0==g?(e.readyRefresh.call(u),l.addClass("ready"),g=1):p<e.topHeight-1&&1==g&&(g=0,l.removeClass("ready"),e.resetRefresh.call(u)),a(d)}}function i(t){o(300),p>=e.topHeight&&v&&(l.removeClass("ready"),e.refresh.call(u)),p=0,a(d)}function a(t){p>e.topHeight&&(p=e.topHeight),$(t).css({"-webkit-transform":"translate3d(0,"+p+"px,0)"})}function o(e){return d.css({"-webkit-transition":"transform "+e+"ms ease-out",transition:"transform "+e+"ms ease-out"})}function r(){for(var e=0;e<x.length;e++)clearTimeout(x[e]);x.push(setTimeout(s,100))}function s(){var t=$(window).height(),n=h[0].getBoundingClientRect().top;n>0&&n<t&&e.addData.call(u),x=[]}var e=$.extend({scrollWrap:window,pullRefresh:1,readyRefresh:function(){},resetRefresh:function(){},refresh:function(){},addData:function(){},topHeight:48},e),l=$('<div class="muui-list-pull" id="muui-list-pull"><span class="default"><i class="muui-font">&#xe796;</i><span class="text">继续下拉刷新…</span></span><span class="ready"><i class="muui-font">&#xe795;</i><span class="text">松开立即更新…</span></span></div>');l.css({height:e.topHeight,"line-height":e.topHeight+"px",top:-e.topHeight});var c=$('<div class="muui-list-loadmore align-center"><i class="muui-loading-icon"></i><span class="text">加载中…</span></div>'),u=$(this);u.after(c);var d=l,h=c,f=$(e.scrollWrap),m=0,p=0,v=0,g=0,b=0,y=0,x=[];e.scrollWrap==window&&(f=$(window.document.body)),e.pullRefresh&&($("body").append(l),u.on("touchstart",t).on("touchmove",n).on("touchend",i)),$(e.scrollWrap).on("scroll",r).trigger("scroll")},function(){var e="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch;muui.scrollEvent={start:e?"touchstart":"mousedown",move:e?"touchmove":"mousemove",end:e?"touchend":"mouseup mouseleave"}}(),$.fn.scroll=function(e){function t(e){s=h=a(e),l=+new Date}function n(e){if(null!==h){e.preventDefault(),e.stopPropagation(),o(0);var t=a(e);f+=t-s,r(f),s=t}}function i(e){if(null!==h){o(c.animationTime);var t=+new Date,n=a(e),i=(n-h)/(t-l);Math.abs(i)>.3?f+=i*c.inertia:c.onChange.call(u),f>0?f=0:f<p-m&&(f=p-m),r(f,c.onChange),h=null}}function a(e){return e.touches?e.changedTouches[0].pageY:e.pageY}function o(e){return d.css({"-webkit-transition":"transform "+e+"ms ease-out",transition:"transform "+e+"ms ease-out"})}function r(e,t){var n=e;return c.bounce?(n>0&&(n/=4),n<p-m&&(n=p-m+(n-(p-m))/4)):(n>0&&(n=0),n<p-m&&(n=p-m)),d.css({"-webkit-transform":"translate3d(0, "+n+"px, 0)",transform:"translate3d(0, "+n+"px, 0)"}).one("webkitTransitionEnd",function(){t&&t.call(u)})}var s,l,c=$.extend({animationTime:400,onChange:function(){},bounce:!1,position:0,inertia:200},e),u=$(this),d=$(u.children()[0]),h=null,f=0,m=u[0].scrollHeight,p=u.height(),v=muui.scrollEvent;$(window).on("resize",function(){m=u[0].scrollHeight,p=u.height()}),u.on(v.start,t),u.on(v.move,n),u.on(v.end,i)},$(function(){$("body").on("focus",".muui-searchbar .search-input",function(){$(this).closest("form").addClass("muui-focus")}).on("click",".muui-searchbar .cancel",function(){$(this).closest("form").removeClass("muui-focus").find(".search-input").val("")})}),function(){function e(e){return e.replace(b,"").replace(y,",").replace(x,"").replace(w,"").replace(k,"").split(/^$|,+/)}function t(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function n(n,i){function a(e){return h+=e.split(/\n/).length-1,u&&(e=e.replace(/[\n\r\t\s]+/g," ").replace(/<!--.*?-->/g,"")),e&&(e=g[1]+t(e)+g[2]+"\n"),e}function o(t){var n=h;if(c?t=c(t,i):r&&(t=t.replace(/\n/g,function(){return"$line="+ ++h+";"})),0===t.indexOf("=")){var a=d&&!/^=[=#]/.test(t);if(t=t.replace(/^=[=#]?|[\s;]*$/g,""),a){var o=t.replace(/\s*\([^\)]+\)/,"");f[o]||/^(include|print)$/.test(o)||(t="$escape("+t+")")}else t="$string("+t+")";t=g[1]+t+g[2]}return r&&(t="$line="+n+";"+t),$(e(t),function(e){if(e&&!p[e]){var t;t="print"===e?y:"include"===e?x:f[e]?"$utils."+e:m[e]?"$helpers."+e:"$data."+e,w+=e+"="+t+",",p[e]=!0}}),t+"\n"}var r=i.debug,s=i.openTag,l=i.closeTag,c=i.parser,u=i.compress,d=i.escape,h=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},v="".trim,g=v?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],b=v?"$out+=text;return $out;":"$out.push(text);",y="function(){var text=''.concat.apply('',arguments);"+b+"}",x="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+b+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(r?"$line=0,":""),k=g[0],T="return new String("+g[3]+");";$(n.split(s),function(e){e=e.split(l);var t=e[0],n=e[1];1===e.length?k+=a(t):(k+=o(t),n&&(k+=a(n)))});var H=w+k+T;r&&(H="try{"+H+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+t(n)+".split(/\\n/)[$line-1].replace(/^[\\s\\t]+/,'')};}");try{var C=new Function("$data","$filename",H);return C.prototype=f,C}catch(e){throw e.temp="function anonymous($data,$filename) {"+H+"}",e}}var i=function(e,t){return"string"==typeof t?v(t,{filename:e}):r(e,t)};i.version="3.0.0",i.config=function(e,t){a[e]=t};var a=i.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},o=i.cache={};i.render=function(e,t){return v(e,t)};var r=i.renderFile=function(e,t){var n=i.get(e)||p({filename:e,name:"Render Error",message:"Template not found"});return t?n(t):n};i.get=function(e){var t;if(o[e])t=o[e];else if("object"==typeof document){var n=document.getElementById(e);if(n){var i=(n.value||n.innerHTML).replace(/^\s*|\s*$/g,"");t=v(i,{filename:e})}}return t};var s=function(e,t){return"string"!=typeof e&&(t=typeof e,"number"===t?e+="":e="function"===t?s(e.call(e)):""),e},l={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},c=function(e){return l[e]},u=function(e){return s(e).replace(/&(?![\w#]+;)|[<>"']/g,c)},d=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},h=function(e,t){var n,i;if(d(e))for(n=0,i=e.length;i>n;n++)t.call(e,e[n],n,e);else for(n in e)t.call(e,e[n],n)},f=i.utils={$helpers:{},$include:r,$string:s,$escape:u,$each:h};i.helper=function(e,t){m[e]=t};var m=i.helpers=f.$helpers;i.onerror=function(e){var t="Template Error\n\n";for(var n in e)t+="<"+n+">\n"+e[n]+"\n\n";"object"==typeof console&&console.error(t)};var p=function(e){return i.onerror(e),function(){return"{Template Error}"}},v=i.compile=function(e,t){function i(n){try{return new l(n,s)+""}catch(i){return t.debug?p(i)():(t.debug=!0,v(e,t)(n))}}t=t||{};for(var r in a)void 0===t[r]&&(t[r]=a[r]);var s=t.filename;try{var l=n(e,t)}catch(e){return e.filename=s||"anonymous",e.name="Syntax Error",p(e)}return i.prototype=l.prototype,i.toString=function(){return l.toString()},s&&t.cache&&(o[s]=i),i},$=f.$each,g="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",b=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,y=/[^\w$]+/g,x=new RegExp(["\\b"+g.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,k=/^,+|,+$/g;a.openTag="{{",a.closeTag="}}";var T=function(e,t){var n=t.split(":"),i=n.shift(),a=n.join(":")||"";return a&&(a=", "+a),"$helpers."+i+"("+e+a+")"};a.parser=function(e,t){e=e.replace(/^\s/,"");var n=e.split(" "),a=n.shift(),o=n.join(" ");switch(a){case"if":e="if("+o+"){";break;case"else":n="if"===n.shift()?" if("+n.join(" ")+")":"",e="}else"+n+"{";break;case"/if":e="}";break;case"each":var r=n[0]||"$data",s=n[1]||"as",l=n[2]||"$value",c=n[3]||"$index",u=l+","+c;"as"!==s&&(r="[]"),e="$each("+r+",function("+u+"){";break;case"/each":e="});";break;case"echo":e="print("+o+");";break;case"print":case"include":e=a+"("+n.join(",")+");";break;default:if(-1!==o.indexOf("|")){var d=t.escape;0===e.indexOf("#")&&(e=e.substr(1),d=!1);for(var h=0,f=e.split("|"),m=f.length,p=d?"$escape":"$string",v=p+"("+f[h++]+")";m>h;h++)v=T(v,f[h]);e="=#"+v}else e=i.helpers[a]?"=#"+a+"("+n.join(",")+");":"="+e}return e},"function"==typeof define?define(function(){return i}):"undefined"!=typeof exports?module.exports=i:this.template=i}(),muui.toast=function(e){"string"==typeof e&&(e={text:e});var t=$.extend({container:"body",position:"middle",width:"auto",text:"toast提示!",backdrop:"",time:1500,history:!1},e),n=template.compile('<div class="modal muui-fixed-center muui-toast fade {{position}}" style="width:{{width}}">            <div class="modal-body">                <p>{{text}}</p>            </div>    </div>'),i=$(n(t));return i.mmodal(t),t.time&&setTimeout(function(){i.modal("hide")},t.time),i};